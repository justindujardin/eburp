{"version":3,"file":"pow2.min.js","sources":["pow2.js"],"names":["pow2","registerData","key","value","data","getData","registerMap","name","maps","describeSprites","prop","hasOwnProperty","sprites","_","extend","registerSprites","defaults","getSpriteMeta","registerCreatures","level","creatures","each","c","push","getMap","getMaps","SPREADSHEET_ID","items","weapons","armor","Animator","this","interpFrame","animElapsed","animDuration","frames","sourceMeta","sourceAnims","prototype","setAnimationSource","spriteName","console","log","animations","setAnimation","Error","duration","updateTime","elapsedMs","factor","index","Math","round","interpolate","length","from","to","min","max","getFrame","__extends","d","b","__","constructor","p","SceneObject","_super","options","call","_uid","uniqueId","_components","point","Point","size","enabled","tick","elapsed","values","l","i","interpolateTick","destroy","o","disconnectComponent","scene","removeObject","findComponent","type","findComponents","results","syncComponents","syncComponent","addComponent","component","silent","where","id","host","connectComponent","addComponentDictionary","components","_this","failed","comp","toString","removeComponentDictionary","previousCount","removeIds","map","filter","obj","indexOf","change","removeComponentByType","componentType","removeComponent","ctor","match","Events","SceneView","canvas","loader","cameraComponent","$el","$","context","getContext","contextAny","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","camera","Rect","cameraScale","unitSize","UNIT","_sheets","onAddToWorld","onRemoveFromWorld","setScene","removeView","addView","renderToCanvas","width","height","renderFunction","buffer","document","createElement","renderFrame","renderPost","setRenderState","save","scale","restoreRenderState","restore","render","_render","processCamera","renderAnimations","process","clearRect","renderPos","x","y","worldToScreen","result","multiply","extent","screenToWorld","fastWorldToScreenPoint","set","fastWorldToScreenRect","fastWorldToScreenNumber","fastScreenToWorldPoint","fastScreenToWorldRect","fastScreenToWorldNumber","len","animation","done","fn","frame","time","rate","a","KeyCode","Input","_keysDown","_mouseElements","window","addEventListener","ev","which","hooks","hook","srcElement","view","mouseOnView","world","coords","relativeElement","touches","canoffset","offset","clientX","body","scrollLeft","documentElement","floor","left","clientY","scrollTop","top","worldMouse","add","mouseHook","mouseUnhook","nameOrView","getMouseHook","find","keyDown","SpriteRender","sizeCanvas","SIZE","getSpriteSheet","load","getSingleSprite","source","image","cell","getSpriteRect","drawImage","src","toDataURL","Image","onload","onerror","err","cx","cy","sourceWidth","sourceHeight","cellWidth","cellHeight","cwidth","fx","fy","desc","StateMachine","apply","arguments","defaultState","states","_currentState","_previousState","_newState","update","setCurrentState","addState","state","addStates","unique","concat","getCurrentState","getCurrentName","newState","getState","oldState","warn","trigger","exit","enter","error","getPreviousState","s","TickedStateMachine","paused","addObject","State","transitions","machine","t","evaluate","targetState","StateTransition","SceneWorld","services","setService","World","SceneSpatialDatabase","_pointRect","_objects","addSpatialObject","removeSpatialObject","reject","queryPoint","queryRect","rect","foundAny","list","pointInRect","Scene","db","_views","fps","debugRender","erase","processFrame","currFPS","removeIt","property","object","removed","onRemoveFromScene","addIt","mark","onAddToScene","findIt","findView","findObject","componentByType","componentsByType","objectsByName","objectByName","objectsByType","objectByType","objectsByComponent","objectByComponent","SceneComponent","TickedComponent","tickRateMS","SceneObjectRenderer","CameraComponent","canvasSize","CollisionComponent","collideBox","resultsArray","collide","collideFirst","hit","MovableComponent","_elapsed","path","velocity","workPoint","targetPoint","clone","renderPoint","collider","beginMove","endMove","collideMove","setMoveFilter","moveFilter","clearMoveFilter","updateVelocity","input","hasCreateTouch","createTouch","worldInput","analogVector","isZero","parseFloat","toFixed","equal","zero","next","shift","moveFn","DEFAULTS","url","volume","loop","SoundComponent","audio","isReady","pause","currentTime","play","StateMachineComponent"],"mappings":"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"}